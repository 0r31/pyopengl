<html>

<head>
<title>OpenGLContext -- Documentation</title>
<link rel="stylesheet" type="text/css" href="sitestyle.css">
</head>

<body bgcolor="#FFFFFF" text="#000000" topmargin="0" leftmargin="0">

<div align="center">
  <div align="left">
    <table border="0" cellpadding="4" width="100%">
      <tr>
        <th valign="middle" rowspan="2"><p> <a href="index.html"> <img border="0" src="context_logo_transp.gif" width="89" height="128"></a></p>
        <th valign="middle">Working with Images and Textures
      </tr>
      <tr>
        <td>
            <p class="typewriter"> In this tutorial you will learn to:
</p>
            <ul>
              <li>
                Use PIL to load PyOpenGL images/textures
              </li>
              <li>
                Specify texture parameters and generate mip-mapped textures
              </li>
              <li>
                Use Numeric Python to
                manipulate and/or generate images
              </li>
              <li>
                Save rendered images to disk in multiple formats using PIL
              </li>
              <li>
                Use the Texture scenegraph objects
              </li>
              <li>
                Create multi-textured geometry with OpenGL extensions
              </li>
            </ul>
        </td>
      </tr>
      <tr>
        <th width="24%" valign="top"><p>Loading Images with PIL</p>
        <td>
        The Python Imaging Library can read a large number of image formats into
        its internal format.&nbsp; From that format, it is trivial to convert to
        a format which PyOpenGL can pass to the OpenGL subsystem.&nbsp; The
        basic code for loading images is shown here:
        <pre>from Image import open
im = open(imageName)
ix, iy = im.size[0], im.size[1]
image = im.tostring(&quot;raw&quot;, &quot;RGBA&quot;, 0, -1)</pre>
        <p>The open function imported from Image takes a filename and attempts
        to determine the image format and load the file into memory as an Image
        object.&nbsp; The Image object for our purposes has a number of
        important attributes, including .size, which gives the pixel dimensions
        of the image, and mode, which gives a string representation of the
        image's internal data format (for instance &quot;RGB&quot;, &quot;RGBA&quot;).</p>
        <p>The tostring method converts the image into a packed Python string in
        the format specified as the first argument, with the data format
        specified in the second argument.&nbsp; For most PyOpenGL work, you'll
        use the &quot;raw&quot; format with &quot;RGB&quot;, &quot;L&quot;
        (grayscale luminance) or &quot;RGBA&quot; data formats, as these are all
        equivalent to common OpenGL image formats.
        </td>
      </tr>
      <tr>
        <th width="24%" valign="top"><p>Texture Generation and Filtering</p>
        <td>
        There are a number of ways of specifying textures during the rendering
        process.&nbsp; It is possible to pass the image data to the rendering
        loop on each pass of the renderer.&nbsp; You might do this if, for
        instance, your texture were changing for each and every frame of an
        animation.&nbsp; To do this, you would call glTexImage2D, passing in a
        number of values describing the image to be processed along with a
        pointer to the image data as generated by the tostring method above:
        <pre># set the storage format
glPixelStorei(GL_UNPACK_ALIGNMENT,1)
<a href="http://pyopengl.sourceforge.net/documentation/manual/html/glTexImage2D.3G.html">glTexImage2D</a>(
	GL_TEXTURE_2D, 0, 3, 
	ix, iy, 0, 
	GL_RGBA, GL_UNSIGNED_BYTE, 
	image
)</pre>
        <p>As you can imagine, however, passing the entire image on each
        rendering pass is extremely inefficient statement those cases where the
        image is being updated very frequently.&nbsp; Since almost all textures
        in most worlds are static, it is far more common to see the use of
        texture IDs.&nbsp; Texture IDs allow your code to map a given texture ID
        (an integer) to an image which is stored within the OpenGL engine.&nbsp;
        Rather than transmitting the entire texture on each rendering pass, only
        the texture ID is transmitted.</p>
        <pre># request a texture ID
ID = glGenTextures(1)
# make it the current texture ID
glBindTexture(GL_TEXTURE_2D, ID)
# set the storage format
glPixelStorei(GL_UNPACK_ALIGNMENT,1)
# copy the texture into the current texture ID
glTexImage2D(
	GL_TEXTURE_2D, 0, 3, 
	ix, iy, 0, 
	GL_RGBA, GL_UNSIGNED_BYTE, 
	image
)</pre>
        </td>
      </tr>
      <tr>
        <th width="24%" valign="top"><p>Image Manipulation with Numeric Python</p>
        <td>
        </td>
      </tr>
      <tr>
        <th width="24%" valign="top"><p>Saving Images with PIL</p>
        <td>
        </td>
      </tr>
      <tr>
        <th width="24%" valign="top"><p>Using OpenGLContext SceneGraph Texture
          Objects</p>
        <td>
        </td>
      </tr>
      <tr>
        <th width="24%" valign="top" colspan="2">A SourceForge Open-Source
          Project:<br>
          <A href="http://sourceforge.net"><IMG src="http://sourceforge.net/sflogo.php?group_id=5988&amp;type=1" border="0"><br>
          </a>
          <a href="http://pyopengl.sourceforge.net/"><img border="0" src="icon2.jpg" width="32" height="32"></a>
        </th>
      </tr>
    </table>
  </div>
</div>

</body>

</html>
